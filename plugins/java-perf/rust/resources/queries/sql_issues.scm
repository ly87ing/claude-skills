; ============================================================================
; SQL 问题检测查询
; ============================================================================
;
; 检测 SQL 字符串中的性能问题模式：
; - SELECT * (应明确指定字段)
; - LIKE '%xxx' (前导通配符无法使用索引)
;
; ============================================================================

; SELECT * 查询检测
; 匹配包含 "SELECT * FROM" 的字符串字面量
(string_literal) @str
(#match? @str "SELECT\\s+\\*\\s+FROM")

; LIKE 前导通配符检测
; 匹配包含 "LIKE '%" 的字符串字面量
(string_literal) @str
(#match? @str "LIKE\\s+['\"]%")
